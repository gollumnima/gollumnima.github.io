---
title: "Next.js ì´ˆê¸°ì„¸íŒ… ì‚½ì§ˆê¸°. ì •ë‹µì´ ì•„ë‹™ë‹ˆë‹¤. ì‚½ì§ˆê¸°ì…ë‹ˆë‹¤"
date: "2019-12-01T20:19:29.169Z"
template: "post"
draft: false
slug: "/posts/nextJS_setting"
category: "react"
tags:
  - "web"
  - "frontend"
  - "react"
  - "next"
description: "ì„ì‹œì €ì¥ê¸€ ëª©ë¡ì„ ë’¤ì ì´ë‹¤.. ë°œê²¬í•œ Next.js ì´ˆê¸°ì„¸íŒ… ê¸€. ì €ì¥ê¸€ì´ ìŒ“ì—¬ê°ì— ë”°ë¼ ì–¸ì  ê°€ëŠ” ìŠí˜€ì§€ê² êµ¬ë‚˜ ì‹¶ì–´ì„œ ì´ì œì„œì•¼ í’€ì–´ë³¸ë‹¤. ì •ë¦¬ê°€ ì•„ì§ë„ ì•ˆ ëœ ëŠë‚Œì´ì§€ë§Œ ì¼ë‹¨ ì“°ê³  ìˆ˜ì •í•´ë³¼ ì˜ˆì •!!"
---

![image.png](https://images.velog.io/post-images/dooreplay/9b7491d0-143d-11ea-a41b-e7a7edc6a163/image.png)

## ì£¼ì˜ì‚¬í•­ ì´ í¬ìŠ¤íŒ…ì€ ì •ë‹µì´ ì•„ë‹Œ ì‚½ì§ˆê¸°ì´ê³ , ì•ìœ¼ë¡œë„ ì´ ì—¬ì •ì€ ê³„ì†ë  ì˜ˆì •ì…ë‹ˆë‹¤.

<a href="https://medium.appbase.io/part1-getting-started-with-react-and-nextjs-4f28a6a0c38e">ì´ì•„ì €ì”¨ í¬ìŠ¤íŒ…</a> ë³´ê³  ì•½ê°„ ë”°ë¼í•¨.

## ì‹œì‘

<a href="https://gollumnima.github.io/posts/wecode10_1TIL_nextjs">ì§€ë‚œë²ˆ í¬ìŠ¤íŒ…</a>ê³¼ ë™ì¼

## Express

`yarn add express` ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜ ê³ ê³ ! <br />
expressë¥¼ í•˜ëƒ ì•ˆ í•˜ëƒì˜ ì°¨ì´ëŠ”.. ì˜ì€ ëª¨ë¥´ì§€ë§Œ custom API routesë¥¼ ë‹¤ë£°ë•Œ ì¢‹ë‹¤ í•¨!<br />
ì´ì–´ì„œ....

server.jsë¥¼ íŒŒì¼ì„ ë§Œë“œëŠ”ë°, ê¼­ package.jsonê³¼ ë™ì¼í•œ ìœ„ì¹˜ì— ë†”ì•¼í•¨

```
//server.js
const express = require('express');
const next = require('next');

const port = parseInt(process.env.PORT, 10) || 3000;
const dev = process.env.NODE_ENV !== 'production';
const app = next({ dev });
const handle = app.getRequestHandler();
app.prepare().then(() => {
  const server = express();
  server.get('*', (req, res) => handle(req, res));
  server.listen(port, (err) => {
    if (err) throw err;
    // console.log(`ğŸ¤˜ on http://localhost:${port}`);
  });
});


```

console ì°íˆëŠ” ë¶€ë¶„ì€ Eslint ë•Œë¬¸ì¸ì§€ ë­”ì§€ ìê¾¸ ê·€ì°®ê²Œ Problemì´ ë– ì„œ ì£¼ì„ì²˜ë¦¬í–ˆë‹¤<br />
ì—¬íŠ¼ ì²˜ìŒì— ê²½ë¡œê°€ ì¤‘ìš”í•˜ë‹¤ê³  ì¨ë†¨ëŠ”ë°... ê²½ë¡œì„¤ì •ì„ ì œëŒ€ë¡œ í•˜ì§€ ì•Šìœ¼ë©´

![image.png](https://images.velog.io/post-images/dooreplay/155106a0-e64e-11e9-9324-4fb150f05a53/image.png)

`MoDULE_NOT_FOUND`ë¼ëŠ” error ë°œìƒ!
ê·¸ëŸ´ë•, ë‘ ê°€ì§€ë¥¼ í™•ì¸í•´ì•¼ í•œë‹¤.

1. node_modules ìœ ë¬´
2. ê²½ë¡œí™•ì¸

ë‚˜ëŠ” ì¼ë‹¨ `rm -rf node_modules` ëª…ë ¹ì–´ë¡œ node_modulesë¥¼ ì‚­ì œí•´ì£¼ê³ <br />
`npm isntall`ë¡œ ë‹¤ì‹œ ê¹”ì•„ì£¼ì—ˆë‹¤.<br />
í•˜ì§€ë§Œ yarn startë¥¼ í•˜ëŠ” ìˆœê°„ ê²°ê³¼ëŠ” ë˜‘ê°™ì€ MNF(Module not foundì˜ ì¤„ì„ë§ì“°~)<br />
ê·¸ë˜ì„œ ë‹¤ë¥¸ë¶„ê»˜ ì—¬ì­¤ë´¤ë”ë‹ˆ ê²½ë¡œê°€ ì˜ëª»ëœê²ƒ ê°™ë‹¤ê³  í•˜ì…”ì„œ.. server.js íŒŒì¼ ê²½ë¡œë¥¼ ë³´ë‹ˆ
pages ì•ˆì— ë“¤ì–´ìˆì—ˆë‹¤!!!! ê·¸ë˜ì„œ ì´ê±¸ ë‹¤ì‹œ ë°–ìœ¼ë¡œ ëºŒ ã„±ã„±

ê·¸ë¬ë”ë‹ˆ ì—ëŸ¬ëŠ” ë¹ ì—¼~

## Eslint ê¹”ê¸°

CRAì˜ ë°©ì‹ê³¼ ì•½ê°„ ë‹¤ë¥¸ê²ƒ ê°™ìŒ

`yarn add -D babel-eslint eslint eslint-config-airbnb eslint-plugin-jsx-a11y eslint-plugin-react eslint-plugin-babel eslint-plugin-import`

ì´ ëª…ë ¹ì–´ë¡œ ì‹œì‘! ë‚œ ìˆ˜ë„ ì—†ìœ¼ë©´ ì•ˆë¼~
ê·¸ë¦¬ê³  .eslintrc.jsë¼ëŠ” íŒŒì¼ ìƒì„±

```
//eslintrc.js file
module.exports = {
 extends: ['airbnb'],
 env: {
  browser: true,
 },
 parser: 'babel-eslint',
 rules: {
  indent: 0,
  'no-tabs': 0,
  'eol-last': ['error', 'always'],
  'no-underscore-dangle': 0,
  'react/jsx-indent': 0,
  'react/jsx-indent-props': 0,
  'react/jsx-filename-extension': 0,
  'react/forbid-prop-types': 0,
  'react/require-default-props': 0,
 },
};

```

í˜¹ì‹œë‚˜ prettierë¥¼ ì•ˆ ê¹ ë¶„ë“¤ì€ vscode ìŠ¤í† ì–´?ì—ì„œ ì„¤ì¹˜ê³ ê³ <br />
ê·¸ë‹¤ìŒì— ëª…ë ¹ì–´ ì…ë ¥ ê³ ê³  `yarn add -D prettier`

ê·¸ë‹´ì—” settingsì— ë“¤ì–´ê°€ì„œ jsoníŒŒì¼ì— ì´ê±¸ ì¶”ê°€í•´ì¤€ë‹¤.

```
{
  "editor.formatOnSave": true,
  "prettier.eslintIntegration": true
}
```

ê·¸ëŸ¬ë©´ ë¹¨ê°„ì¤„ì´ ë™‡!! í–‰ë³µì“°~

## Eslint rules off

.eslintrc.js íŒŒì¼ì„ ë³´ë©´ ê°ì²´ì•ˆì— rulesë¼ëŠ” ê°’ë“¤ì´ ìˆëŠ”ë°..<br />
0ì€ off 1ì€ onì´ë‹¤. true/false ê°’ì„ ì´ìš©í•´ì„œ ê·¸ë ‡ê²Œ í•œë“¯..?! ë˜‘ë˜‘í•´~

```
 rules: {
    indent: 0,
    "no-tabs": 0,
    "eol-last": ["error", "always"],
    "no-console": 0,
    "no-underscore-dangle": 0,
    "react/jsx-indent": 0,
    "react/jsx-indent-props": 0,
    "react/jsx-filename-extension": 0,
    "react/react-in-jsx-scope": 0,
    "react/forbid-prop-types": 0,
    "react/require-default-props": 0
  }
```

ìœ„ì—ì„œ Eslintê°€ ì˜ êµ¬ë™ë˜ì„œ ë¹¨ê°„ì¤„ ë‚˜ì™€ì„œ í–‰ë³µí–ˆë˜ ê²ƒë„ ì ì‹œ...<br />
ë¹¨ê°„ì¤„ ë•œì— ë„˜ë‚˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì•„ì„œ êµ¬ê¸€ë§ í•´ë³¸ ê²°ê³¼ë¬¼ë¡œ off íš¨ê³¼ì£¼ê¸°!<br />
ê²€ìƒ‰í•˜ë©´ êµ‰ì¥íˆ í•­ëª©ì´ ë§ë‹¤.. ë‚œ ì¼ë‹¨ ì´ì •ë„ë¡œë§Œ ì„¤ì •í•´ë†“ì•˜ë‹¤

## í´ë”êµ¬ì¡° í™•ì¸

![image.png](https://images.velog.io/post-images/dooreplay/c8dbb3e0-e712-11e9-9e4c-35b0af6c260b/image.png)

ì¼ë‹¨ì€ ì´ë ‡ê²Œ ì„¸íŒ…í•´ë†“ì€ ìƒíƒœì´ë‹¤.<br />
í™”ë©´ì— êµ¬í˜„ë˜ì–´ì•¼ í•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ê³¼ í˜ì´ì§€ë“¤ì€ pages ë””ë ‰í† ë¦¬ ì•ˆì— ë“¤ì–´ê°€ì•¼ í•œë‹¤.<br />
í•˜ë‚˜ì”© ì°¬ì°¬íˆ ì‚´í´ë³´ì

- index.js : /ë¡œ ì‹œì‘í•˜ëŠ” ë£¨íŠ¸ ë””ë ‰í† ë¦¬! ê± ë©”ì¸ì´ë¼ê³  ë³´ë©´ ëœë‹¤.
- \_app.js : ê³µí†µë ˆì´ì›ƒì„ ìœ„í•œ ê³µê°„ì´ë¼ëŠ”ë°.. ë‚œ Layout.jsë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ë†¨ëŠ”ë° ì´ê±°ë‘ ê°™ì´ ì¨ì•¼í•˜ë‚˜?
- \_document.js : index.htmlê³¼ ê°™ì€ ì—­í• . ì˜¨ê°– script tagì™€ ê¸°íƒ€ë“±ë“±ì€ ë‹¤ ì—¬ê¸°ë‹¤ê°€ ì €ì¥ì“°!
- \_error.js : ì—ëŸ¬ê°€ ë‚¬ì„ë•Œ ë‚˜ì˜¤ëŠ” í™”ë©´
- next.config.js : path ì„¤ì • ë° ê¸°íƒ€ ë“±ë“± ì„¤ì •

ë‚œ material-uiì™€ Next.jsë¥¼ í•¨ê»˜ ì“´ ì˜ˆì‹œë¥¼ í´ë¡ ë°›ì•„ì„œ ê±°ê¸°ë¥¼ í†µí•´ \_app.jsì™€ \_document.js ì–‘ì‹ì„ ì±„ì›Œë‚˜ê°”ë‹¤ ã…‹ã…‹
src ë””ë ‰í† ë¦¬ì˜ Link, theme,ProTipë„ ë¬´ìŠ¨ ê¸°ëŠ¥ì„ í•˜ëŠ”ì§„ ëª¨ë¥´ê² ìœ¼ë‚˜ ì¼ë‹¨ ì¶”ê°€í•´ë³´ì•˜ë‹¤.
ê·¸ë˜ì•¼ ì—ëŸ¬ê°€ ì•ˆ ë‚ ê±°ê°™ì•„ã…“ ã…‹ã…‹ã…‹

## static í´ë”ì˜ ìœ„ì¹˜

ì™€... ì—„ì²­ë‚œ í†µìˆ˜ë¥¼ ë§ì•˜ë˜ static í´ë”.<br />
ëª¨ë“  ê²Œ ë‹¤ pages ì•ˆì— ë“¤ì–´ê°€ìˆì–´ì•¼ í•  ê²ƒ ê°™ì•„ì„œ ë‹¹ì—°íˆ pagesì— ë„£ì—ˆëŠ”ë°<br />
ì•„ë¬´ë¦¬ ë…¸ë ¥ì„ í•´ë´ë„ ì´ë¯¸ì§€ê°€ ì•ˆ ëœ¨ëŠ” ê²ƒ...

ì—´ì‹¬íˆ êµ¬ê¸€êµ¬ê¸€ë§ì„ í•´ë³¸ ê²°ê³¼.....<br />
static í´ë”ëŠ” root ê²½ë¡œì— ìˆì–´ì•¼ í•œë‹¤ê³ ... pagesì™€ ë™ì¼ ì„ ìƒì—..! ì†Œì˜¤ë¦„<br />
ì˜®ê¸°ë‹ˆê¹Œ ì‚¬ì§„ ë°”ë¡œ ì™• í¬ê²Œ ëœ¬ë‹¤ ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ ì˜¤ì˜ˆ

## Next.jsì—ì„œ SASS ì‚¬ìš©í•˜ê¸°

`yarn add @zeit/next-sass node-sass` ì„¤ì¹˜ëŠ” ì´ë ‡ê²Œ<br />
ê·¼ë° ì„¤ì¹˜í•œë‹¤ê³  ë‹¤ê°€ ì•„ë‹ˆë‹¤.. ë˜ ë­”ê°ˆ í•´ì¤˜ì•¼ì§€ ì—ëŸ¬ê°€ ì•ˆë‚œë‹¤.

```
const withSass = require('@zeit/next-sass');

const commonsChunkConfig = (config, test = /\.css$/) => {
  config.plugins = config.plugins.map((plugin) => {
    if (
      plugin.constructor.name === 'CommonsChunkPlugin'
      // disable filenameTemplate checks here because they never match
      // (plugin.filenameTemplate === 'commons.js' ||
      //     plugin.filenameTemplate === 'main.js')
      // do check for minChunks though, because this has to (should?) exist
      && plugin.minChunks != null
    ) {
      const defaultMinChunks = plugin.minChunks;
      plugin.minChunks = (module, count) => {
        if (module.resource && module.resource.match(test)) {
          return true;
        }
        return defaultMinChunks(module, count);
      };
    }
    return plugin;
  });
  return config;
};

module.exports = withSass({
  cssModules: true,
  webpack: (config) => {
    config = commonsChunkConfig(config, /\.(sass|scss|css)$/);
    return config;
  },
});

```

ìœ„ì˜ í´ë”êµ¬ì¡°ì—ì„œ ì‚´í´ë³´ì•˜ë˜ next.config.js íŒŒì¼ì— ì´ê±¸ ì¶”ê°€í•´ì¤€ë‹¤.<br />
ì¶”ê°€í•´ì£¼ì§€ ì•Šìœ¼ë©´ CSSLoader ì–´ì©Œêµ¬ í•˜ë©´ì„œ ì—ëŸ¬ê°€ ë‚œë‹¤.<br />
êµ¬ê¸€ë§ì˜ í˜ì´ ì •ë§ ëŒ€ë‹¨í•˜ë‹¤.. ë‹¤ë“¤ ë˜‘ê°™ì€ ë°ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”êµ¬ë‚˜ ì •ë§ã…‹ã…‹

## Layout í™œìš©

ì‚¬ì‹¤ ì´ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ë¥¼ \_app.jsì— ë„£ëŠ”ê²Œ ë§ëŠ”ì§€, index.jsì— ë„£ëŠ”ê²Œ ë§ëŠ”ì§€ ëª¨ë¥¸ë‹¤.
ê·¼ë° ì¼ë‹¨ index.jsì— ë„£ì–´ë³´ì•˜ë‹¤.

```
import React from 'react';
import Container from '@material-ui/core/Container';
import Typography from '@material-ui/core/Typography';
import Box from '@material-ui/core/Box';
import MuiLink from '@material-ui/core/Link';
import ProTip from './src/ProTip';
import Link from './src/Link';
import Layout from './global/Layout';

function Copyright() {
  return (
    <Typography variant="body2" color="textSecondary" align="center">
      Copyright Â©
      <MuiLink color="inherit" href="https://material-ui.com/">
        Your Website
      </MuiLink>
      {new Date().getFullYear()}
    </Typography>
  );
}

export default function Index() {
  return (
    <Layout>
      <Container maxWidth="sm">
        <Box my={4}>
          {/* variantê°€ í™”ë©´ì— ë³´ì´ëŠ” ì‹¤ì œ ê¸€ì”¨ í¬ê¸° */}
          <Typography variant="h4" component="h1" gutterBottom>
            Next.js example
          </Typography>
          <Link href="/about" color="secondary">
            Go to the about page
          </Link>
          <ProTip />
          <Copyright />
        </Box>
      </Container>
    </Layout>
  );
}

```

ë‚´ê°€ ì‹¤ìŠµì„ ë‚˜ê°€ìˆë˜ ê¸°ì—…ì˜ ê²½ìš°, material-uië¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—<br />
material-uiì™€ Next.jsë¥¼ í•¨ê»˜ ì“´ ì˜ˆì‹œë¥¼ ê¹ƒí—ˆë¸Œë¥¼ í†µí•´ í´ë¡ í–ˆë‹¤.<br />
<a href="https://github.com/mui-org/material-ui">ì•„ë§ˆì—¬ê¸° ì˜€ì„ë“¯</a>

ì—¬íŠ¼.. Layout íŒŒì¼ì—ëŠ”

```
import Navbar from './Navbar';
import Footer from './Footer';
import './Footer.scss';

const Layout = (props) => (
  <>
    <Navbar />
    {props.children}
    <Footer />
  </>
);

export default Layout;

```

ì´ë ‡ê²Œ í•´ì£¼ë©´ ì‹ ê¸°í•˜ê²Œ ì´ ì•ˆì— ìš”ì†Œë“¤ì´ ë‹¤ ë“¤ì–´ê°„ë‹¤!

ë¼ìŒ ë””ìŠ¤

![image.png](https://images.velog.io/post-images/dooreplay/fa3ee9a0-e714-11e9-9e4c-35b0af6c260b/image.png)

ë„˜ë‚˜ ì‹ ê¸°í•œê²ƒã…‹ã…‹

ìŒ... ë­”ê°€ êµ‰ì¥íˆ ë§ì´ ì„¤ì¹˜í–ˆë˜ê²ƒ ê°™ì€ë° ê¸€ë¡œ ì¨ë³´ë‹ˆ ì–¼ë§ˆ ì—†ë„¤..?<br />
ì¤‘ê°„ì— ì¨ë†¨ë˜ ê¸€ì´ ì„ì‹œì €ì¥ ì‹¤íŒ¨í•´ì„œ ì¢€ ë‚ ë¼ê°„ê±° ê°™ê¸°ë„ í•˜ê³ ..?<br />

## bootstrap & material icon ì‚¬ìš©

`sudo yarn add bootstrap-material-design-icons`
ì´ê±¸ ê¹”ì•„ë´ë„ ì•„ì´ì½˜ì´ ì•ˆëœ¨ê³ ..

<a href="https://google.github.io/material-design-icons/">ë°©ë²•</a>ì€ êµ¬ê¸€ì— ìˆì—ˆë‹¤.
ì´ ë¬¸ì„œì— ë‚˜ì˜¨ëŒ€ë¡œ `sudo yarn add material-design-icons` ê¶ˆê¶ˆ
\_document.js íŒŒì¼ì— link tagë„ ë„£ì–´ì£¼ê³ 
`<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />`

ê·¸ëŸ¬ë‚˜ ì—ëŸ¬ê°€ ë°œìƒ...

![image.png](https://images.velog.io/post-images/dooreplay/c2361c00-e740-11e9-b416-f12e8a5138e9/image.png)

ë°”ë¡œ êµ¬ê¸€ë§ ê¶ˆê¶ˆ!<br />
ë‹¤ì–‘í•œ ë‹µë³€ë“¤ì´ ìˆì—ˆì§€ë§Œ ë‚˜ëŠ” ì´ ë°©ë²•ì„ íƒí–ˆë‹¤..<br />

```
sudo yarn cache clean
sudo yarn install --network-concurrency 1
```

ê·¸ë¬ë”ë‹ˆ ì›¬ê±¸... ì´ì œ ëœë‹¤ ëœë‹¤!??'

ê·¼ë° ì•„ì´ì½˜ì€ ì ì‹œ ë³´ë¥˜.. ë‚´ê°€ ì›í•˜ëŠ” ì•„ì´ì½˜ì´ ì•„ë‹ˆì˜€ìŒ..

## SASS ì ìš© ë‹¤ì‹œ!

ì—´ì‹¬íˆ êµ¬ê¸€ë§ í•´ì„œ config íŒŒì¼ì„ ë‹¤ì‹œ ë°”ê¿ˆ

```
const withSass = require('@zeit/next-sass');
const withCSS = require('@zeit/next-css');

module.exports = withCSS(
  withSass({
    webpack(config) {
      config.module.rules.push({
        test: /\.(png|jpg|gif|svg|eot|ttf|woff|woff2)$/,
        use: {
          loader: 'url-loader',
          options: {
            limit: 100000,
          },
        },
      });

      return config;
    },
  }),
);

```

ë“œë””ì–´ SASSê°€ ë¨¹í˜€ë²Œì„!

## bootstrap ì ìš©

Layoutì— ì´ê±° ì¶”ê°€
`<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" />`

## ì§„ì§œ ì§„ì§œ ì´ìƒí•œ ì—ëŸ¬

![image.png](https://images.velog.io/post-images/dooreplay/aacf6e20-e9a4-11e9-b145-25a68bfbc53d/image.png)

`npm i -g npm@latest`ë¡œ í•´ê²°í•˜ê¸´ í–ˆëŠ”ë° ì°ì°ì“°~

ì•„ì§ë„ ì–´ìƒ‰í•œ Next.js... ì–¸ì œì¯¤ ì¹œí•´ì§ˆë ¨ì§€
ì´ ê¸€ì€ ì§€ì†ì ìœ¼ë¡œ ìˆ˜ì •í•  ì˜ˆì •ì´ë‹¤

## ë‹¤ì‹œí•œë²ˆ ë§í•˜ì§€ë§Œ ì´ ê¸€ì€ ì •ë‹µì§€ê°€ ì•„ë‹Œ ì‚½ì§ˆê¸°!!
